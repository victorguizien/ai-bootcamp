version: 2

models:
  - name: user_activity_metrics
    description: "Daily-grain engagement summary providing rolling active user counts. Powers the executive engagement dashboard and trend analysis for user growth and stickiness (DAU/MAU ratio)."
    columns:
      - name: date
        description: "Primary Key - Calendar date representing the reporting day, one row per date"
        tests:
          - unique
          - not_null
      - name: dau
        description: "Daily Active Users — Count of unique users who had at least one session on this specific date, the most granular measure of product engagement"
      - name: wau
        description: "Weekly Active Users — Count of unique users active in the trailing 7-day window ending on this date, smooths daily volatility to reveal weekly engagement trends"
      - name: mau
        description: "Monthly Active Users — Count of unique users active in the trailing 30-day window ending on this date, the north-star metric for overall product health and investor reporting"

  - name: user_revenue_summary
    description: "User-level revenue rollup combining profile attributes with lifetime payment history. Designed for LTV analysis, ARPU segmentation by country or plan, and identifying high-value users or churn risk."
    columns:
      - name: user_id
        description: "Primary Key - Unique user identifier, one row per user across their full payment history"
        tests:
          - unique
          - not_null
      - name: country
        description: "Geographic region of the user (US, EU, India, Rest) — enables regional revenue breakdowns and market-level ARPU comparisons"
      - name: signup_date
        description: "Date the user originally registered — used alongside payment data to compute time-to-first-payment and cohort-based LTV curves"
      - name: plan
        description: "Current or most recent subscription tier (free, monthly, annual) — segments users by monetization level for revenue and conversion analysis"
      - name: total_payments
        description: "Cumulative number of payment transactions made by the user — indicates billing longevity and helps distinguish one-time payers from loyal subscribers"
      - name: total_revenue_usd
        description: "Lifetime revenue generated by the user in US Dollars — the core metric for LTV reporting, whale identification, and ROI-per-acquisition calculations"
      - name: last_payment_date
        description: "Most recent payment date for the user — signals recency of monetization activity and is a leading indicator for churn risk when stale"
